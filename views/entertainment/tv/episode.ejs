<style>
    .movie-search {
        background: rgba(0, 0, 0, 0.3);
        backdrop-filter: blur(4px);
        border-top: outset 2px lightskyblue;
        border-bottom: outset 2px lightskyblue;
        padding: 10px;
        padding-left: 0;
        padding-bottom: 0;
        width: 100%;
        margin-bottom: 15px;
    }

    .movie-search input {
        width: 100%;
        outline: none;
        border: none;
        margin-left: 0;
        padding: 5px;
        background: rgba(135, 206, 250, 0.5);
        backdrop-filter: blur(4px);
        color: #fff;
        box-shadow: inset 0 0 5px rgba(255, 255, 255, 0.75);
    }

    .movie-search input::placeholder {
        color: #fff;
    }

    .movie-search button {
        width: 80%;
        margin-left: 10%;
        background: green;
        border: outset 2px green;
        border-bottom: none;
        margin-bottom: 0;
        color: #fff;
        margin-top: 10px;
        border-radius: none;
        border-top-left-radius: 8px;
        border-top-right-radius: 8px;
    }

    .show-container {
        margin-top: 30px;
    }
    .show-time {
        background: rgba(0, 0, 0, 0.9);
        position: fixed;
        top: 0;
        left: 0;
        min-width: 100vw;
        min-height: 100vh;
    }
    #bright {
        display: none;
        box-shadow: inset 0 0 10px rgba(85, 85, 85, 0.75);
        color: #888;
        border: outset 2px rgba(135, 206, 250, 0.5);
        border-top: none;
        transition: ease-out 0.5s;
    }
    #bright:hover {
        box-shadow: inset 0 0 8px rgba(255, 255, 255, 0.25), 0 3px 5px rgba(0, 0, 0, 0.6);
        color: #fff;
        border: outset 2px rgba(135, 206, 250, 0.5);
        border-top: none;
        transition: ease-in 0.5s;
    }
        .show-image {
        position: fixed;
        top: 0;
        left: 0;
        min-width: 100vw;
        min-height: 100vh;
        z-index: -50;
    }

    @media screen and (min-width: 299px) {
    .show-image {
        position: fixed;
        top: 0;
        left: 0;
        min-width: 100vw;
        min-height: 100vh;
        z-index: -50;
    }


            .video-stream {
        position: relative;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        
    }
    .video-stream iframe {
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.25), 0 0 3px lightskyblue;
        border-radius: 6px;    
        height: 100%;
        
        width: 90%;

    }

    .video-stream button {
        cursor: pointer;
        outline: none;
        border: outset 2px lightskyblue;
        border-top: none;
        background: rgba(135, 206, 250, 0.25);
        box-shadow: inset 0 0 8px rgba(255, 255, 255, 0.25), 0 3px 5px rgba(0, 0, 0, 0.6);
        color: #fff;
        font-size: 1.3rem;
        padding: 10px;
        border-bottom-left-radius: 8px;
        border-bottom-right-radius: 8px;
    }
    .show-data {
        width: 80%;
        margin: 0 auto;
        margin-top: 30px;
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(4px);
        border-radius: 8px;
        text-shadow: 0 0 2px #000;
    }
    .show-data h3 {
        font-size: 1.6rem;
        color: lightskyblue;
        text-align: center;
        padding: 10px;
    }
    .show-data p {
        margin: 0 auto;
        margin-top: 20px;
        margin-bottom: 20px;
        width: 80%;
        padding: 20px;
        padding-bottom: 30px;
        font-size: 1.3rem;
        color: #fff;

    }
    }



@media (orientation: landscape) {
    .video-stream {
        min-height: calc(100vh - 100px);
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .video-stream iframe {
        min-height: calc(100vh - 100px);
        border-radius: 6px;    
        height: 100%;
        width: 90%;

    }
}
@media screen and (min-width: 499) {

}
    @media screen and (min-width: 900px) {


    .video-stream {
        min-height: calc(100vh - 100px);
        display: flex;
        justify-content: center;
        align-items: center;
    }
    .video-stream iframe {
        min-height: calc(100vh - 100px);
        border-radius: 6px;    
        height: 100%;
        width: 90%;

    }
        .show-data {
        width: 80%;
        margin: 0 auto;
        margin-top: 30px;
        background: rgba(255, 255, 255, 0.25);
        backdrop-filter: blur(4px);
        border-radius: 8px;
        text-shadow: 0 0 2px #000;
    }
    .show-data h3 {
        font-size: 3rem;
        color: lightskyblue;
        text-align: center;
        padding: 10px;
    }
    .show-data p {
        margin: 0 auto;
        margin-top: 20px;
        margin-bottom: 20px;
        width: 80%;
        padding: 20px;
        padding-bottom: 30px;
        font-size: 2rem;
        color: #fff;

    }

}

</style>


<div class="zone-title">
    <h1>
        <%= zone %>
    </h1>
</div>

<%- include('../../partials/menus/entertainment'); %>


<%- include('../../partials/menus/sub/entertainment/tv', {showName: show.name, showId: showId}); %>

<%- include('../../partials/menus/sub/entertainment/tv-show', {showName: subZonePage, seasonsList: show.seasons,
            seasonName: currentPage, showId: showId}); %>

<%- include('../../partials/menus/sub/entertainment/tv-season', { episodeList: season.episodes, episodeNumber: episode.episode_number}); %>

<div class="show-image" style="background:url('https://image.tmdb.org/t/p/w500<%= episode.still_path %>') 50% 50% no-repeat; background-size:cover;"></div>

<div class="movie-search">
    <form action="/entertainment/tv/search" method="POST">
        <input type="text" name="show" id="movie" placeholder="Search for movies...">
        <button type="submit">Search</button>
    </form>
</div>


    <div class="show-container">
        <div class="video-stream" id="theater">
            <iframe
                src="https://www.2embed.ru/embed/tmdb/tv?id=<%= showId %>&s=<%= episode.season_number %>&e=<%= episode.episode_number %>"
                frameborder="0" width="100%" allowfullscreen="true"></iframe>
                <button id="dim">Dim the Lights</button>
                <button id="bright">Turn on the Lights</button>
        </div>
        <div class="show-data">
            <h3>
                <%= episode.name %>
            </h3>
            <p>
                <%= episode.overview %>
            </p>
        </div>

    </div>

    <script>
        const theater = document.getElementById('theater')
        document.getElementById("dim").onclick = function () { dimTheater() };
        document.getElementById("bright").onclick = function () { brightenTheater() };

            function dimTheater() {
                theater.classList.toggle("show-time");
                 document.getElementById("theater").style.minHeight = "100vh";
                 document.getElementById("theater").style.position = "fixed";
                 document.getElementById("theater").style.zIndex = "99999";
                 document.getElementById("theater").style.top = "0";
                 document.getElementById("theater").style.left = "0";
                 document.getElementById("coreData").style.display = "none";
                 document.getElementById("coreMenu").style.width = "50px";
                 document.getElementById("searchForm").style.display = "none";
                 document.getElementById("dim").style.display = "none";
                 document.getElementById("bright").style.display = "block";
            }

            function brightenTheater() {
                theater.classList.toggle("show-time");
                 document.getElementById("theater").style.minHeight = "auto";
                 document.getElementById("theater").style.position = "relative";
                 document.getElementById("theater").style.zIndex = "50";
                 document.getElementById("theater").style.removeProperty = "top";
                 document.getElementById("theater").style.removeProperty = "left";
                 document.getElementById("coreData").style.display = "none";
                 document.getElementById("coreMenu").style.width = "100vw";
                 document.getElementById("searchForm").style.display = "block";
                 document.getElementById("dim").style.display = "block";
                 document.getElementById("bright").style.display = "none";
            }
    </script>